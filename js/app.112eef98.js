(function(e){function t(t){for(var n,s,o=t[0],l=t[1],d=t[2],c=0,m=[];c<o.length;c++)s=o[c],Object.prototype.hasOwnProperty.call(i,s)&&i[s]&&m.push(i[s][0]),i[s]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n]);u&&u(t);while(m.length)m.shift()();return a.push.apply(a,d||[]),r()}function r(){for(var e,t=0;t<a.length;t++){for(var r=a[t],n=!0,o=1;o<r.length;o++){var l=r[o];0!==i[l]&&(n=!1)}n&&(a.splice(t--,1),e=s(s.s=r[0]))}return e}var n={},i={app:0},a=[];function s(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,s),r.l=!0,r.exports}s.m=e,s.c=n,s.d=function(e,t,r){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(s.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)s.d(r,n,function(t){return e[t]}.bind(null,n));return r},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=t,o=o.slice();for(var d=0;d<o.length;d++)t(o[d]);var u=l;a.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"55d4":function(e,t,r){"use strict";r("ed0e")},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var n=r("2b0e"),i=r("5f5b"),a=r("b1e0");r("ab8b"),r("2dd8");n["default"].use(i["a"]),n["default"].use(a["a"]);var s=r("1dce"),o=r.n(s);n["default"].use(o.a);var l=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[r("main-view")],1)},d=[],u=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("b-container",{attrs:{fluid:"sm"}},[r("b-card",[r("b-card-title",[e._v(" Users")]),e.users.length<1?r("b-card-text",[e._v("No users found")]):e._e(),r("user-table",{attrs:{items:e.users,addFnc:e.spliceUser,editFnc:e.editUser,deleteFnc:e.deleteUser}}),r("hr"),r("b-row",{attrs:{"no-gutters":""}},[r("b-col",{staticClass:"mr-2",attrs:{cols:"auto"}},[r("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.global-modal",modifiers:{"global-modal":!0}}]},[e._v("Add User")])],1),r("b-col",{staticClass:"mx-2",attrs:{cols:"auto"}},[r("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.global-confirm",modifiers:{"global-confirm":!0}}]},[e._v("Clear All")])],1)],1)],1),r("record-modal",{attrs:{id:"global-modal",okFnc:e.addUser}}),r("confirm-modal",{attrs:{id:"global-confirm",okFnc:e.clearUsers}},[e._v(" Are you sure you want to delete all users? ")])],1)},c=[],m=(r("a434"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("b-table",{attrs:{hover:"",responsive:"md",items:e.items,fields:["name","surname","email"]},on:{"row-hovered":e.hoverRow},scopedSlots:e._u([{key:"cell(email)",fn:function(t){return[r("div",{staticClass:"tr-row"},[e._v(" "+e._s(t.value)+" "),r("div",{staticClass:"popup-container"},[r("div",{staticClass:"popup-container--icon mx-2"},[r("b-icon",{directives:[{name:"b-modal",rawName:"v-b-modal.table-modal",modifiers:{"table-modal":!0}}],attrs:{icon:"person-plus",variant:"success","font-scale":"1.8"},on:{click:function(t){e.useFnc=e.addFnc.bind(this,e.hoveredIndex+1)}}})],1),r("div",{staticClass:"popup-container--icon mx-2"},[r("b-icon",{directives:[{name:"b-modal",rawName:"v-b-modal.table-modal",modifiers:{"table-modal":!0}}],attrs:{icon:"pencil","font-scale":"1.5"},on:{click:function(t){e.useFnc=e.editFnc.bind(this,e.hoveredIndex),e.mode="edit"}}})],1),r("div",{staticClass:"popup-container--icon mx-2"},[r("b-icon",{directives:[{name:"b-modal",rawName:"v-b-modal.delete-modal",modifiers:{"delete-modal":!0}}],attrs:{icon:"x-circle",variant:"danger","font-scale":"1.5"}})],1)])])]}}])}),r("record-modal",{attrs:{id:"table-modal",mode:e.mode,user:e.hoveredRow,okFnc:e.useFnc}}),r("confirm-modal",{attrs:{id:"delete-modal",okFnc:e.deleteFnc.bind(this,e.hoveredIndex)}},[r("p",{domProps:{textContent:e._s(e.deleteText)}})])],1)}),f=[],v=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("b-modal",{ref:"modal",attrs:{id:e.id,title:"Add User"},on:{show:e.resetModal,hidden:e.resetModal,ok:e.submit}},[r("form",{ref:"form"},[r("b-form-group",{attrs:{label:"Name","label-for":"name-input"}},[r("b-form-input",{attrs:{id:"name-input",state:e.validateState("name")},model:{value:e.$v.name.$model,callback:function(t){e.$set(e.$v.name,"$model","string"===typeof t?t.trim():t)},expression:"$v.name.$model"}}),r("b-form-invalid-feedback",{attrs:{id:"input-1-live-feedback"}},[e._v(e._s(e.getErrorMsg("name")))])],1),r("b-form-group",{attrs:{label:"Surname","label-for":"surname-input"}},[r("b-form-input",{attrs:{id:"surname-input",state:e.validateState("surname")},model:{value:e.$v.surname.$model,callback:function(t){e.$set(e.$v.surname,"$model","string"===typeof t?t.trim():t)},expression:"$v.surname.$model"}}),r("b-form-invalid-feedback",{attrs:{id:"input-1-live-feedback"}},[e._v(e._s(e.getErrorMsg("surname")))])],1),r("b-form-group",{attrs:{label:"Email","label-for":"email-input"}},[r("b-form-input",{attrs:{id:"email-input",state:e.validateState("email")},model:{value:e.$v.email.$model,callback:function(t){e.$set(e.$v.email,"$model","string"===typeof t?t.trim():t)},expression:"$v.email.$model"}}),r("b-form-invalid-feedback",{attrs:{id:"input-1-live-feedback"}},[e._v(e._s(e.getErrorMsg("email")))])],1)],1)])},b=[],h=(r("b0c0"),r("b5ae")),p={props:{id:{type:String,required:!0},mode:String,okFnc:Function,user:Object},data:function(){return{name:"",surname:"",email:""}},validations:{name:{required:h["required"],minLength:Object(h["minLength"])(4)},surname:{required:h["required"],minLength:Object(h["minLength"])(4)},email:{required:h["required"],email:h["email"]}},computed:{isEdit:function(){return this.user&&"edit"==this.mode}},methods:{validateState:function(e){var t=this.$v[e],r=t.$dirty,n=t.$error;return r?!n:null},getErrorMsg:function(e){var t=this.$v[e];return t.required?void 0===t.minLength||t.minLength?void 0===t.email||t.email?void 0:"Please enter valid email!":"".concat(e," must be 4 symbols or longer!"):"".concat(e," is required!")},resetModal:function(){this.name=this.isEdit?this.user.name:"",this.surname=this.isEdit?this.user.surname:"",this.email=this.isEdit?this.user.email:"",this.$v.$reset()},validateForm:function(){return this.$v.name.$touch(),this.$v.surname.$touch(),this.$v.email.$touch(),!(this.$v.name.$anyError||this.$v.surname.$anyError||this.$v.email.$anyError)},submit:function(e){var t=this;if(e.preventDefault(),this.validateForm()&&this.okFnc){var r={name:this.name,surname:this.surname,email:this.email};this.okFnc(r),this.$nextTick((function(){t.$bvModal.hide(t.id)})),console.log("sumbitted")}else console.log("not valid")}},mounted:function(){this.resetModal()}},g=p,$=r("2877"),y=Object($["a"])(g,v,b,!1,null,null,null),_=y.exports,w=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("b-modal",{ref:"modal",attrs:{id:e.id,title:"Confirm Deletion"},on:{ok:e.submit}},[e._t("default")],2)},x=[],F={props:{id:String,okFnc:Function},methods:{submit:function(){this.okFnc()}}},k=F,U=Object($["a"])(k,w,x,!1,null,null,null),O=U.exports,S={props:{items:{type:Array,required:!0},addFnc:Function,editFnc:Function,deleteFnc:Function},components:{"record-modal":_,"confirm-modal":O},data:function(){return{hoveredRow:null,hoveredIndex:-1,useFnc:null,mode:""}},computed:{deleteText:function(){return"Are you sure you want to delete user ".concat(this.hoveredRow?this.hoveredRow.email:"","?")}},methods:{hoverRow:function(e,t){this.hoveredIndex=t,this.hoveredRow=e}}},j=S,E=(r("55d4"),Object($["a"])(j,m,f,!1,null,"9d23c3b6",null)),M=E.exports,q={components:{"user-table":M,"record-modal":_,"confirm-modal":O},data:function(){return{users:[],defaultUsers:[{name:"Brad",surname:"Gibson",email:"brad.gibson@gmail.com"},{name:"John",surname:"Smith",email:"john.smith@gmail.com"},{name:"Jane",surname:"Smith",email:"jane.smith@gmail.com"}]}},methods:{addUser:function(e){this.users.push(e),this.saveUsers()},spliceUser:function(e,t){this.users.splice(e,0,t),this.saveUsers()},editUser:function(e,t){this.users[e]&&(this.users.splice(e,1,t),this.saveUsers())},deleteUser:function(e){this.users[e]&&(this.users.splice(e,1),this.saveUsers())},saveUsers:function(){localStorage.setItem("users",JSON.stringify(this.users))},retrieveUsers:function(){var e=localStorage.getItem("users");this.users=e?JSON.parse(e):this.defaultUsers},clearUsers:function(){this.users=[],this.saveUsers()}},created:function(){this.retrieveUsers()}},C=q,N=Object($["a"])(C,u,c,!1,null,null,null),P=N.exports,A={name:"App",components:{"main-view":P}},I=A,R=Object($["a"])(I,l,d,!1,null,null,null),J=R.exports;r("f9e3");n["default"].config.productionTip=!1,new n["default"]({render:function(e){return e(J)}}).$mount("#app")},ed0e:function(e,t,r){}});
//# sourceMappingURL=app.112eef98.js.map